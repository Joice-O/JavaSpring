<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Produto</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>
<div class="card text-bg-light mb-3" style="max-width:60%;  margin-left: 10%; margin-right: auto; margin-top: 3%;">
<div class="card-header">Cadastro e listagem de Produtos</div>
<div class="card-body">
	<form method="POST" th:object="${produto}" th:action="@{/salvarProduto}">
		<table>
		<input type="hidden" name="codigo" th:field="*{codigo}">
				<tr>
					<td>Nome</td>
					<td><input type = "text" name = "nome" th:field="*{nome}">
					<span class="validationError" th:if="${#fields.hasErrors('nome')}"
					th:errors="*{nome}" style="color:red"></span> 
					</td> 
					</tr>
					<tr>
					<td>Data de Início</td>
					<td><input type = "date" name = "dataInicio" placeholder = "dd-mm-yyyy" th:field="*{dataInicio}">
					<span class="validationError" th:if="${#fields.hasErrors('dataInicio')}"
					th:errors="*{dataInicio}" style="color:red"></span>
					</td>
				</tr>
			 <tr> <td><input type = "submit" value="Salvar"/></td></tr>
		</table>
		<br><br>
	</form>
	<table class ="table">

	<thead class ="table-info">
	<tr>
	<td>Código</td>
	<td>Nome</td>
	<td>Data de Início</td>
	<td>Alteração</td>
	<td>Exclusão</td>
	</tr>
	</thead>
	<tbody class="table-group-divider">
	<tr th:each="produto: ${listaDeProdutos}">
	<td th:text="${produto.codigo}"></td>
	<td th:text="${produto.nome}"></td>
	<td th:text="${#dates.format(produto.dataInicio, 'dd/MM/yyyy')}"></td>
	<td><a th:href ="@{/selecionarProduto(codigo=${produto.codigo})}">Alterar</a></td>
	<td><a th:href ="@{/excluirProduto(codigo=${produto.codigo})}">Excluir</a></td>
	</tr>
	</tbody>
	</table>
<a th:href ="@{/listarDepartamentos}">Ir para Departamentos</a>
	</div>
	</div>
	
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html> 